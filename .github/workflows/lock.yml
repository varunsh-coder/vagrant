name: 'Lock Threads'

on:
  schedule:
    - cron: '50 1 * * *'

permissions:
  contents: read

jobs:
  lock:
    runs-on: ubuntu-latest
    permissions:
      issues: write
      pull-requests: write
    steps:
      - name: Harden Runner
        uses: step-security/harden-runner@128a63446a954579617e875aaab7d2978154e969 # v2.4.0
        with:
          egress-policy: audit

      - uses: dessant/lock-threads@f1a42f0f44eb83361d617a014663e1a76cf282d2 # v2.1.2
        with:
          github-token: ${{ github.token }}
          issue-lock-inactive-days: '30'
          pr-lock-inactive-days: '30'
